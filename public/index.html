<!DOCTYPE html>
<html ng-app="EventbriteWheel">

  <head>
    <script data-require="angular.js@*" data-semver="1.3.7" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.7/angular.js"></script>
    <script data-require="underscore.js@*" data-semver="1.6.0" src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js"></script>
    <script data-require="lodash.js@*" data-semver="2.4.1" src="http://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.js"></script>
    <script src="//cdn.jsdelivr.net/satellizer/0.8.7/satellizer.min.js"></script>
    <script src="//cdn.jsdelivr.net/hammerjs/2.0.4/hammer.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.6/angular-animate.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.6/angular-aria.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angular_material/0.6.1/angular-material.min.js"></script>
    <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/angular_material/0.6.1/angular-material.min.css" />
    <link rel="stylesheet" href="style.css" />
    <script src="index.js"></script>
  </head>

  <body ng-controller="SpinWheel">
    <md-toolbar hide-md hide-sm hide-lg>
      <div id="top-bar" class="md-toolbar-tools">
        <h2> San Francisco EventBrite Search</h2>
      </div>
    </md-toolbar>
    <md-toolbar id="tall-image" class="md-tall">
      <div hide-lg hide-md hide-sm class="full-gradient" layout="row" layout-align="center center">
        <div>
          <h1 style="text-align:center">Life's too short to be bored.</h1>
          <h4>Discover amazing events, activities, and places.</h4>
        </div>
      </div>
      <div hide-gt-lg class="gradient">
        <div class="md-toolbar-tools md-toolbar-tools-bottom">
          <div ng-click="toggleLeft()" class="box-shadow-menu"> </div>
          <h2 flex> San Francisco EventBrite Search </h2>
        </div>
      </div>
    </md-toolbar>
    
    <md-container layout="row">
      <md-sidenav class="md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="$media('gt-lg')">
        <md-toolbar hide-gt-lg class="md-theme-indigo">
          <h1 class="md-toolbar-tools">Filter Options</h1>
        </md-toolbar>
        <md-content class="md-padding" ng-controller="LeftCtrl">
          <div class="filter">
            <h3> Maximum Price: {{filterData.stringPrice()}}</h3>
            <md-slider min="0" max="100" ng-model="filterData.maxPrice"></md-slider>
          </div>
          <div class="filter">
            <h3> Event Category: </h3>
            <md-checkbox ng-model="categories[101]" aria-label="Business">
              Business
            </md-checkbox>
            <md-checkbox ng-model="categories[104]" aria-label="Film & Media">
              Film & Media
            </md-checkbox>
            <md-checkbox ng-model="categories[110]" aria-label="Food & Drink">
              Food & Drink
            </md-checkbox>
            <md-checkbox ng-model="categories[107]" aria-label="Health">
              Health
            </md-checkbox>
            <md-checkbox ng-model="categories[103]" aria-label="Music">
              Music
            </md-checkbox>
            <md-checkbox ng-model="categories[105]" aria-label="Arts">
              Arts
            </md-checkbox>
            <md-checkbox ng-model="categories[119]" aria-label="Hobbies">
              Hobbies
            </md-checkbox>
            <md-checkbox ng-model="categories[111]" aria-label="Charity & Causes">
              Charity & Causes
            </md-checkbox>
            <md-checkbox ng-model="categories[109]" aria-label="Travel & Outdoor">
              Travel & Outdoor
            </md-checkbox>
            <md-checkbox ng-model="categories[115]" aria-label="Family & Education">
              Family & Education
            </md-checkbox>
            <md-checkbox ng-model="categories[108]" aria-label="Sports & Fitness">
              Sports & Fitness
            </md-checkbox>
            
          </div>
          <div class="buttons" layout="row" layout-fill layout-align="space-around center">
            <md-button ng-click="search()" id="search" class="md-raised"> Search </md-button>
            <md-button ng-click="spin()" id="spin" class="md-raised">Spin Wheel</md-button>
          </div>
          <md-button ng-click="close()" class="md-primary" hide-gt-md>
            Close Filter Options
          </md-button>
        </md-content>
      </md-sidenav>
      
      <md-container layout="row" layout-align="space-around center" ng-show="showLoading" flex>
        <md-progress-circular class="md-hue-2" md-mode="indeterminate"></md-progress-circular>
      </md-container>
      
      <md-list scroll flex ng-hide="showLoading" layout="row" layout-gt-lg="row" layout-align="center center" layout-wrap>
          <md-card flex="80" flex-gt-lg="66" layout-align="center" class="md-card" ng-repeat="item in events | orderBy: orderingDate |  LessThanPrice ">
          <a class="pointer" target="_blank" ng-href={{item.url}}>
            <md-item>
              <md-item-content layout="row" layout-stretch>
                <div class="image-container" layout-fill layout-align="center" flex="25">
                  <div class="face">
                    <div class="img-size" ng-style="{ 'background-image':'url({{item.logo_url || 'http://tadhg.com/images/design/seamless/ancientblue.jpg'}})' }"></div>
                  </div>
                </div>
                <div layout-fill flex="75" class="md-tile-content">
                  <h3> {{item.name.text}} </h3>
                  <p> {{item.ticket_classes[0].cost.display || 'free'}} </p>
                  <h4> {{item.start.local | date:'short' }} </h4>
                  <h4> {{item.venue.address.address_1}} </h4>
                </div>
              </md-item-content>
            </md-item>
          </a>
        </md-card>
      </md-list>
    </md-container>
  </body>
</html>
